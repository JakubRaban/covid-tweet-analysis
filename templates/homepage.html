{% extends "base.html" %}
{% block title %}Dobry wieczór Państwu{% endblock %}
{% block content %}
    <div class="container-xl p-3">
        <div class="container border p-3">
            <h3>Selekcjonuj dane</h3>
            <form>
                <div class="container">
                    <h5>Zakres dat</h5>
                    <div class="row">
                        <div class="col form-group">
                            <label for="date-from">Od</label>
                            <input type="date" class="form-control" id="date-from">
                        </div>
                        <div class="col form-group">
                            <label for="date-to">Do</label>
                            <input type="date" class="form-control" id="date-to">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col form-group">
                            <label for="social-group">Grupa społeczna</label>
                            <select class="form-control" id="social-group">
                                <option value="none">(Dowolna)</option>
                                <option value="politicians">Politycy</option>
                                <option value="influencers">Influencerzy</option>
                                <option value="doctors">Lekarze</option>
                                <option value="journalists">Dziennikarze</option>
                            </select>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col form-group">
                            <label for="statistic-type">Rodzaj statystyki</label>
                            <select class="form-control" id="statistic-type">
                                <option value="general">Ogólna</option>
                                <option value="popularity">Zasięg użytkownika</option>
                                <option value="social-group">Grupa społeczna</option>
                                <option value="conspiracy">Teorie spiskowe</option>
                            </select>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary">Zatwierdź</button>
                </div>
            </form>
        </div>
    </div>
    <div class="container-fluid">
        <table class="table table-striped table-bordered" id="datatable-users">
            <thead class="thead-dark">
            <tr>
                <th scope="col">Użytkownik</th>
                <th scope="col">Grupa społeczna</th>
                <th scope="col"># tweetów o COVID</th>
                <th scope="col">Średnio polubień</th>
                <th scope="col">Maksymalnie polubień</th>
                <th scope="col">Średnio retweetów</th>
                <th scope="col">Tweety</th>
            </tr>
            </thead>
            <tbody>
            {% for user in users %}
                <tr>
                    <th scope="row"><a href="#">{{ user["username"] }}</a></th>
                    <th scope="row"><a href="#">{{ user["social_group"] }}</a></th>
                    <th scope="row">{{ user["covid_tweet_count"] }}</th>
                    <th scope="row">{{ user["average_favourites"] }}</th>
                    <th scope="row">{{ user["most_favourites"] }}</th>
                    <th scope="row">{{ user["average_retweets"] }}</th>
                    <th scope="row"><a href="#">Zobacz</a></th>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}

{% block scripts %}
    <script type="text/javascript" charset="utf8">
        $(document).ready(() => {
            $('#datatable-users').DataTable({
                "language": {
                    "processing": "Przetwarzanie...",
                    "search": " Wyszukaj dowolną frazę:",
                    "lengthMenu": "Pokaż _MENU_ pozycji",
                    "info": "Pozycje od _START_ do _END_ z _TOTAL_ łącznie",
                    "infoEmpty": "Pozycji 0 z 0 dostępnych",
                    "infoFiltered": "(filtrowanie spośród _MAX_ dostępnych pozycji)",
                    "infoPostFix": "",
                    "loadingRecords": "Wczytywanie...",
                    "zeroRecords": "Nie znaleziono pasujących pozycji",
                    "emptyTable": "Brak danych",
                    "paginate": {
                        "first": "Pierwsza",
                        "previous": "Poprzednia",
                        "next": "Następna",
                        "last": "Ostatnia"
                    },
                    "aria": {
                        "sortAscending": ": aktywuj, by posortować kolumnę rosnąco",
                        "sortDescending": ": aktywuj, by posortować kolumnę malejąco"
                    }
                }
            });
        });
    </script>
{% endblock %}